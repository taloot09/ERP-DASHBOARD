{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <title>Analytical Dashboard</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- External CSS -->
    <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700,800,900" rel="stylesheet">
    <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

    <!-- Local CSS -->
    <link href="{% static 'fontawesome-free/css/all.min.css' %}" rel="stylesheet">
    <link href="{% static 'css/style.css' %}" rel="stylesheet"> <!-- Assuming style.css is your custom CSS file -->
    <style>
        .cards {
            background-color: #FFFFFF;
            border: 1px solid #E8E8E8;
            box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.05);
            border-radius: 12px;
            padding: 20px;
            margin: 10px;
        }
        input {
            outline: 0;
            border-width: 0 0 2px;
            border-color: #A0A0A080;
            margin: auto;
            display: flex;
            width: 50%;
        }

        .form-controls {
            outline: 0;
            border-width: 0 0 2px;
            border-color: #A0A0A080;
            margin: auto;
            display: flex;
            color: #a48383;
            width:50%;
            justify-content: center;
        }

        .btn {
            box-shadow: 2px 4px 8px 0px #00000040;
            width: 90px;
            padding: 5.08px;
            color: #fff;
            border-radius: 5px;
            opacity: 0px;
            background-color: #03C9D7;
        }
    </style>
</head>

<body>
    <div class="container">
        {% if messages %}
            {% for message in messages %}
                <div class="alert alert-warning alert-dismissible fade show" role="alert">
                    {{ message }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
            {% endfor %}
        {% endif %}
    </div>

    
    {% if user.is_authenticated %}
    <!-- Page Content -->
    <div class="d-flex" style="min-height: 100vh;">
        <!-- Sidebar -->
        <div class="bg-white" style="width: 250px;">
            {% block sidebar %}
                {% include 'sidebar.html' %}
            {% endblock %}
        </div>

        <!-- Main Content Wrapper -->
        <div class="flex-grow-1">
            <!-- Navbar -->
            {% include 'navbar.html' %}

            <!-- Main Content -->
            <div class="container-fluid p-4">
                {% block main_content %}
                {% endblock %}
            </div>
        </div>
    </div>
{% else %}
    <!-- Non-Authenticated Users -->
    <div class="container">
        <h2>Welcome! Please log in to see the dashboard.</h2>
        <p>If you don't have an account, <a href="{% url 'register' %}">register here</a>.</p>
    </div>
{% endif %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>  <!-- Use CDN for testing -->
<!-- <script src="{% static 'js/jquery.min.js' %}"></script> -->
<script src="{% static 'js/popper.js' %}"></script>
<script src="{% static 'js/bootstrap.min.js' %}"></script>
<script src="{% static 'js/main.js' %}"></script>
    <!-- Page level plugins -->
    <script src="{% static 'vendor/chart.js/Chart.min.js' %}"></script>
    <!-- Page level custom scripts -->
    <script src="{% static 'js/demo/chart-area-demo.js' %}"></script>
    <script src="{% static 'js/demo/chart-pie-demo.js' %}"></script>
</body>

</html>